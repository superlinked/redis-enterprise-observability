{
  "name": "Redis Enterprise Proxy Threads",
  "description": null,
  "permissions": "PUBLIC_READ_WRITE",
  "pages": [
    {
      "name": "Redis Enterprise",
      "description": null,
      "widgets": [
        {
          "title": "Worker Threads",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 6,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.stacked-bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [
                  3321735
                ],
                "query": "SELECT average(namedprocess_namegroup_thread_cpu_seconds_total) FROM Metric FACET node WHERE cluster = {{cluster}} AND mode = 'system' AND threadname LIKE 'worker-%' SINCE 30 MINUTES AGO TIMESERIES"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Open FDs",
          "layout": {
            "column": 7,
            "row": 1,
            "width": 2,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [
                  3321735
                ],
                "query": "SELECT latest(redis_process_open_fds) FROM Metric SINCE 30 MINUTES AGO"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Max FDs",
          "layout": {
            "column": 9,
            "row": 1,
            "width": 2,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [
                  3321735
                ],
                "query": "SELECT latest(redis_process_max_fds) FROM Metric WHERE cluster = {{cluster}} SINCE 30 MINUTES AGO"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Resident Memory",
          "layout": {
            "column": 11,
            "row": 1,
            "width": 2,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "dataFormatters": [
              {
                "name": "redis_process_resident_memory_bytes",
                "type": "humanized"
              }
            ],
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [
                  3321735
                ],
                "query": "SELECT latest(redis_process_resident_memory_bytes) FROM Metric WHERE cluster = {{cluster}} AND role='master' SINCE 30 MINUTES AGO"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Listener Threads",
          "layout": {
            "column": 1,
            "row": 4,
            "width": 6,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.stacked-bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [
                  3321735
                ],
                "query": "SELECT average(namedprocess_namegroup_thread_cpu_seconds_total) FROM Metric FACET node WHERE cluster = {{cluster}} AND mode = 'system' and threadname LIKE 'listener%'  SINCE 30 MINUTES AGO TIMESERIES"
              },
              {
                "accountIds": [
                  3321735
                ],
                "query": "SELECT average(namedprocess_namegroup_thread_cpu_seconds_total) FROM Metric FACET bdb_name WHERE cluster = {{cluster}} AND mode = 'user' and threadname LIKE 'listener.%' SINCE 30 MINUTES AGO TIMESERIES"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Core Threads",
          "layout": {
            "column": 7,
            "row": 4,
            "width": 6,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.stacked-bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [
                  3321735
                ],
                "query": "SELECT average(namedprocess_namegroup_thread_cpu_seconds_total) FROM Metric FACET node WHERE cluster = {{cluster}} AND mode ='system' AND threadname NOT LIKE 'listener%' AND threadname NOT LIKE 'worker-%' AND threadname NOT LIKE '%cli%'  SINCE 30 MINUTES AGO TIMESERIES"
              },
              {
                "accountIds": [
                  3321735
                ],
                "query": "SELECT average(namedprocess_namegroup_thread_cpu_seconds_total) FROM Metric FACET bdb_name WHERE cluster = {{cluster}} AND mode ='user' AND threadname NOT LIKE '\"cli.%' AND threadname NOT LIKE 'worker.%' AND threadname NOT LIKE 'listener.%' SINCE 30 MINUTES AGO TIMESERIES"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        }
      ]
    }
  ],
  "variables": [
    {
      "name": "cluster",
      "items": null,
      "defaultValues": [],
      "nrqlQuery": {
        "accountIds": [
          3321735
        ],
        "query": "SELECT uniques(cluster) FROM Metric"
      },
      "options": {
        "ignoreTimeRange": true,
        "excluded": false
      },
      "title": "cluster",
      "type": "NRQL",
      "isMultiSelection": false,
      "replacementStrategy": "STRING"
    },
    {
      "name": "duration",
      "items": [
        {
          "title": null,
          "value": "1"
        },
        {
          "title": null,
          "value": "2"
        },
        {
          "title": null,
          "value": "5"
        },
        {
          "title": null,
          "value": "10"
        },
        {
          "title": null,
          "value": "15"
        },
        {
          "title": null,
          "value": "20"
        },
        {
          "title": null,
          "value": "25"
        },
        {
          "title": null,
          "value": "30"
        },
        {
          "title": null,
          "value": "45"
        },
        {
          "title": null,
          "value": "60"
        }
      ],
      "defaultValues": [
        {
          "value": {
            "string": "30"
          }
        }
      ],
      "nrqlQuery": null,
      "options": {
        "excluded": false
      },
      "title": "duration",
      "type": "ENUM",
      "isMultiSelection": false,
      "replacementStrategy": "NUMBER"
    }
  ]
}